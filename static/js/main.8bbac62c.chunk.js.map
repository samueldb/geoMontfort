{"version":3,"sources":["reportWebVitals.js","components/Map.js","data/LayersList.js","components/Menu.js","assets/logo.svg","components/App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","mapboxgl","accessToken","process","Map","mapContainerRef","useRef","useState","lng","setLng","lat","setLat","zoom","setZoom","pitch","setPitch","bearing","setBearing","useEffect","map","container","current","style","center","on","addSource","setTerrain","addLayer","addControl","NavigationControl","getCenter","toFixed","getZoom","getPitch","getBearing","remove","className","ref","allLayers","name","displayable_name","categorie","concat","Menu","categories","reduce","acc","layer","includes","cat","console","log","App","src","alt","height","Container","fluid","Row","Col","md","ReactDOM","render","StrictMode","Fragment","document","getElementById"],"mappings":"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","file":"static/js/main.8bbac62c.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport mapboxgl from 'mapbox-gl';\r\nimport '../styles/Map.css';\r\n\r\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\r\n\r\nconst Map = () => {\r\n  const mapContainerRef = useRef(null);\r\n\r\n  const [lng, setLng] = useState(6.568);\r\n  const [lat, setLat] = useState(45.489);\r\n  const [zoom, setZoom] = useState(15.3);\r\n  const [pitch, setPitch] = useState(60); // centrage\r\n  const [bearing, setBearing] = useState(150); // rotation\r\n\r\n  // Initialize map when component mounts\r\n  useEffect(() => {\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainerRef.current,\r\n      // style: 'mapbox://styles/mapbox/streets-v11',\r\n      style:  'https://openmaptiles.geo.data.gouv.fr/styles/osm-bright/style.json', //Fond de carte\r\n      center: [lng, lat],\r\n      zoom: zoom,\r\n      pitch: pitch,\r\n      bearing: bearing\r\n    });\r\n\r\n    map.on('load', function(){\r\n      map.addSource('mapbox-dem', {\r\n          'type': 'raster-dem',\r\n          'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\r\n          'tileSize': 512,\r\n          'maxzoom': 14\r\n      });\r\n      // add the DEM source as a terrain layer with exaggerated height\r\n      map.setTerrain({ 'source': 'mapbox-dem', 'exaggeration': 1.5 });\r\n\r\n      // add a sky layer that will show when the map is highly pitched\r\n      map.addLayer({\r\n          'id': 'sky',\r\n          'type': 'sky',\r\n          'paint': {\r\n              'sky-type': 'atmosphere',\r\n              'sky-atmosphere-sun': [0.0, 0.0],\r\n              'sky-atmosphere-sun-intensity': 15\r\n          }\r\n      });\r\n    });\r\n\r\n    // Add navigation control (the +/- zoom buttons)\r\n    map.addControl(new mapboxgl.NavigationControl(), 'top-right');\r\n\r\n    map.on('move', () => {\r\n      setLng(map.getCenter().lng.toFixed(4));\r\n      setLat(map.getCenter().lat.toFixed(4));\r\n      setZoom(map.getZoom().toFixed(2));\r\n      setPitch(map.getPitch().toFixed(2));\r\n      setBearing(map.getBearing().toFixed(2));\r\n    });\r\n\r\n    // Clean up on unmount\r\n    return () => map.remove();\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return (\r\n      <div className='map-container' ref={mapContainerRef} />\r\n  );\r\n};\r\n\r\nexport default Map;","export const adminLayers = [\r\n    {name: 'admin_sections', displayable_name : 'Sections cadastrales', categorie: 'admin'},\r\n    {name: 'admin_parcelles', displayable_name : 'Parcelles cadastrales', categorie: 'admin'},\r\n]\r\n\r\nexport const landscapesLayers = [\r\n    {name: 'hydro', displayable_name: 'Hydrologie', categorie: 'landscapes'},\r\n    {name: 'bati_3d', displayable_name: 'Batiments 3D', categorie: 'landscapes'}\r\n]\r\n\r\nexport const allLayers = adminLayers.concat(landscapesLayers)\r\n\r\n","import {allLayers} from '../data/LayersList'\r\n\r\nfunction Menu(){\r\n    const categories = allLayers.reduce(\r\n        (acc, layer) => acc.includes(layer.categorie) ? acc : acc.concat(layer.categorie), []\r\n    )\r\n    \r\n    categories.map((cat) => console.log(cat));\r\n    return (\r\n        <div>\r\n            <ul>\r\n                {categories.map((cat => \r\n                    (<li key={cat}>{cat}</li>)\r\n                ))}\r\n            </ul>\r\n            <ul>\r\n                {categories.map((layer) => \r\n                    (<li key={layer.name}>{layer.displayable_name}</li>)\r\n                )}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react';\r\nimport Map from './Map';\r\nimport Menu from './Menu';\r\nimport logo from '../assets/logo.svg';\r\nimport '../styles/App.css';\r\nimport {Container, Row, Col } from 'react-bootstrap';\r\n\r\n\r\nfunction App() {\r\n        //todo : create Header components\r\n  return (\r\n<div>\r\n  <div className=\"App\">\r\n    <div className=\"header\">\r\n      <img src=\"../assets/images/geovelo_text_icon.svg\" alt=\"icon text\"></img>\r\n      <img src=\"../assets/images/sig_logo.png\" style={{height: '100px'}} alt=\"logo\"></img>\r\n      <h1>Geo Montfort</h1>\r\n    </div>\r\n    <Container fluid>\r\n      <Row>\r\n        <Col md={3}>\r\n          <Menu />\r\n      </Col>\r\n        <Col md={9}>\r\n          <Map />\r\n        </Col>\r\n      </Row>\r\n  </Container>\r\n  </div>\r\n</div>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <React.Fragment><App /></React.Fragment>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}